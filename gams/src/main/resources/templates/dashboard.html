<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAMS S.A.C - Dashboard</title>
    <link rel="stylesheet" href="/estilos/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-cube"></i>
            </div>
            <h2 class="company-name">GAMS S.A.C</h2>
            <div class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li class="nav-item active">
                    <a href="#dashboard" class="nav-link" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#inventario" class="nav-link" data-section="inventario">
                        <i class="fas fa-boxes"></i>
                        <span>Inventario</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#ventas" class="nav-link" data-section="ventas">
                        <i class="fas fa-cash-register"></i>
                        <span>Ventas</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#personal" class="nav-link" data-section="personal">
                        <i class="fas fa-users"></i>
                        <span>Personal</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reportes" class="nav-link" data-section="reportes">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reportes</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <span class="user-name">Diego Admin</span>
                    <span class="user-role">Administrador</span>
                </div>
            </div>
            <button class="logout-btn" onclick="document.getElementById('logoutForm').submit();">
                <i class="fas fa-sign-out-alt"></i>
                <span>Cerrar Sesión</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="top-bar-left">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="page-title" id="pageTitle">Dashboard Principal</h1>
            </div>
            <div class="top-bar-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Buscar..." id="globalSearch">
                </div>
                <div class="notifications">
                    <button class="notification-btn" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
                <div class="current-time" id="currentTime"></div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="content-area">
            <!-- Dashboard Principal -->
            <section class="content-section active" id="dashboard-section">
                <div class="dashboard-grid">
                    <!-- Tarjetas de resumen -->
                    <div class="stats-cards">
                        <div class="stat-card stat-primary">
                            <div class="stat-icon">
                                <i class="fas fa-boxes"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Inventario</h3>
                                <p class="stat-number">245 productos</p>
                                <p class="stat-change">
                                    <i class="fas fa-arrow-up"></i>
                                    Stock bajo: 3
                                </p>
                            </div>
                        </div>

                        <div class="stat-card stat-success">
                            <div class="stat-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Ventas Hoy</h3>
                                <p class="stat-number">S/ 2,450.00</p>
                                <p class="stat-change">
                                    <i class="fas fa-arrow-up"></i>
                                    Facturas: 12
                                </p>
                            </div>
                        </div>

                        <div class="stat-card stat-info">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Personal</h3>
                                <p class="stat-number">En línea: 8</p>
                                <p class="stat-change">
                                    <i class="fas fa-user-check"></i>
                                    Total: 15
                                </p>
                            </div>
                        </div>

                        <div class="stat-card stat-warning">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Ventas Mes</h3>
                                <p class="stat-number">S/ 45,200.00</p>
                                <p class="stat-change">
                                    <i class="fas fa-arrow-up"></i>
                                    Meta: 85%
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Notificaciones -->
                    <div class="dashboard-widget notifications-widget">
                        <div class="widget-header">
                            <h3>
                                <i class="fas fa-bell"></i>
                                Notificaciones Recientes
                            </h3>
                            <button class="widget-action">
                                <i class="fas fa-ellipsis-h"></i>
                            </button>
                        </div>
                        <div class="widget-content">
                            <div class="notification-item notification-warning">
                                <div class="notification-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="notification-content">
                                    <h4>Stock crítico</h4>
                                    <p> Polereras Franelas con estampado- Solo 2 unidades restantes</p>
                                    <span class="notification-time">Hace 5 min</span>
                                </div>
                            </div>
                            
                            <div class="notification-item notification-success">
                                <div class="notification-icon">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="notification-content">
                                    <h4>Venta registrada</h4>
                                    <p>S/ 350.00 - Ana García</p>
                                    <span class="notification-time">Hace 15 min</span>
                                </div>
                            </div>
                            
                            <div class="notification-item notification-info">
                                <div class="notification-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="notification-content">
                                    <h4>Nuevo acceso</h4>
                                    <p>María González ingresó al sistema</p>
                                    <span class="notification-time">Hace 30 min</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gráfico de ventas -->
                    <div class="dashboard-widget chart-widget">
                        <div class="widget-header">
                            <h3>
                                <i class="fas fa-chart-area"></i>
                                Ventas de la Semana
                            </h3>
                            <div class="widget-actions">
                                <select class="chart-period">
                                    <option>Esta semana</option>
                                    <option>Este mes</option>
                                    <option>Este año</option>
                                </select>
                            </div>
                        </div>
                        <div class="widget-content">
                            <canvas id="salesChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <!-- Productos más vendidos -->
                    <div class="dashboard-widget products-widget">
                        <div class="widget-header">
                            <h3>
                                <i class="fas fa-trophy"></i>
                                Top Productos
                            </h3>
                        </div>
                        <div class="widget-content">
                            <div class="product-item">
                                <div class="product-info">
                                    <span class="product-name">iPhone 14</span>
                                    <span class="product-sales">45 vendidos</span>
                                </div>
                                <div class="product-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 90%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-item">
                                <div class="product-info">
                                    <span class="product-name">AirPods Pro</span>
                                    <span class="product-sales">32 vendidos</span>
                                </div>
                                <div class="product-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 65%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-item">
                                <div class="product-info">
                                    <span class="product-name">MacBook Air</span>
                                    <span class="product-sales">18 vendidos</span>
                                </div>
                                <div class="product-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 35%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Inventario -->
            <section class="content-section" id="inventario-section">
                <div class="section-header">
                    <h2>Gestión de Inventario</h2>
                    <button class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Agregar Producto
                    </button>
                </div>
                <div class="content-placeholder">
                    <i class="fas fa-boxes"></i>
                    <h3>Módulo de Inventario</h3>
                    <p>Aquí se implementará la gestión completa de productos</p>
                </div>
            </section>

            <!-- Sección Ventas -->
            <section class="content-section" id="ventas-section">
                <div class="section-header">
                    <h2>Punto de Venta</h2>
                    <button class="btn btn-success">
                        <i class="fas fa-cash-register"></i>
                        Nueva Venta
                    </button>
                </div>
                <div class="content-placeholder">
                    <i class="fas fa-cash-register"></i>
                    <h3>Sistema de Ventas</h3>
                    <p>Aquí se implementará el punto de venta completo</p>
                </div>
            </section>

            <!-- Sección Personal -->
            <section class="content-section" id="personal-section">
                <div class="section-header">
                    <h2>Gestión de Personal</h2>
                    <button class="btn btn-info">
                        <i class="fas fa-user-plus"></i>
                        Nuevo Empleado
                    </button>
                </div>
                <div class="content-placeholder">
                    <i class="fas fa-users"></i>
                    <h3>Módulo de Personal</h3>
                    <p>Aquí se gestionará el personal y accesos</p>
                </div>
            </section>

            <!-- Sección Reportes -->
            <section class="content-section" id="reportes-section">
                <div class="section-header">
                    <h2>Reportes y Analytics</h2>
                    <button class="btn btn-warning">
                        <i class="fas fa-file-export"></i>
                        Generar Reporte
                    </button>
                </div>
                <div class="content-placeholder">
                    <i class="fas fa-chart-bar"></i>
                    <h3>Centro de Reportes</h3>
                    <p>Aquí se generarán todos los reportes del sistema</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Modal de Notificaciones -->
    <div class="modal" id="notificationsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Todas las Notificaciones</h3>
                <button class="modal-close" id="closeNotifications">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="notification-list">
                    <!-- Las notificaciones se cargarían aquí dinámicamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Formulario oculto para logout -->
    <form id="logoutForm" method="post" action="/logout" style="display: none;">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    </form>

    <!-- Scripts -->
    <script src="/js/dashboard.js"></script>
</body>
</html>